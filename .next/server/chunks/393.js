exports.id=393,exports.ids=[393],exports.modules={9147:t=>{t.exports={account:"Account_account__q9qKT"}},7178:t=>{t.exports={adminButton:"AdminButton_adminButton__5YrkM"}},8102:t=>{t.exports={basket:"Basket_basket__8FRtH"}},7974:t=>{t.exports={container:"CategoriesMenu_container__Qq9aA"}},8256:t=>{t.exports={border:"BasicLayout_border__aEJ_6",header:"BasicLayout_header__Ir5gC",left:"BasicLayout_left__jNp1l",search:"BasicLayout_search__AjyoK"}},3527:t=>{t.exports={container:"JoinLayout_container__U_bXI",left:"JoinLayout_left__bsy8g",right:"JoinLayout_right__PA5Xb"}},8010:(t,e,a)=>{"use strict";a.d(e,{J:()=>s});var r=a(2351);let s={create:async function(t){try{let e=`${r.Vi.API_URL}/${r.Vi.ENDPOINTS.CATEGORY}`,a={body:JSON.stringify(t),headers:{"Content-Type":"application/json"},method:"POST"},s=await (0,r.SH)(e,a);if(!s)throw Error("No response received");if(200!==s.status)throw s;return!0}catch(t){throw t}},delete:async function(t){try{let e=`${r.Vi.API_URL}/${r.Vi.ENDPOINTS.CATEGORY}/${t}`,a=await (0,r.SH)(e,{method:"DELETE"});if(!a)throw Error("No response received");if(200!==a.status)throw a;return!0}catch(t){throw t}},getAll:async function(){try{let t=`${r.Vi.API_URL}${r.Vi.ENDPOINTS.CATEGORY}`,e=await fetch(t);if(!e)throw Error("No response received");let a=await e.json();if(200!==e.status)throw a;return a}catch(t){throw t}},update:async function(t,e){try{let a=`${r.Vi.API_URL}/${r.Vi.ENDPOINTS.CATEGORY}/${e}`,s={body:JSON.stringify(t),headers:{"Content-Type":"application/json"},method:"PUT"},n=await (0,r.SH)(a,s);if(!n)throw Error("No response received");if(200!==n.status)throw n;return!0}catch(t){throw t}}}},339:(t,e,a)=>{"use strict";a.d(e,{v3:()=>s,Jz:()=>n.J,Jb:()=>o,Rq:()=>c});var r=a(9952);let s={confirmation:async function(t,e){try{return await r.Auth.confirmSignUp(t,e),!0}catch(t){throw t}},login:async function(t,e){try{return await r.Auth.signIn({password:e,username:t}),await r.Auth.currentAuthenticatedUser({bypassCache:!1})}catch(t){throw t}},logout:async function(){try{await r.Auth.signOut()}catch(t){throw t}},register:async function(t,e){try{return await r.Auth.signUp({password:e,username:t})}catch(t){throw t}},resendCode:async function(t){try{await r.Auth.resendSignUp(t)}catch(t){throw t}},retrieveSession:async function(){try{return(await r.Auth.currentSession()).getAccessToken().getJwtToken()}catch(t){throw t}}};var n=a(8010),i=a(2351);let o={create:async function(t){try{let e=`${i.Vi.API_URL}${i.Vi.ENDPOINTS.PRODUCT}`,a={body:JSON.stringify(t),headers:{"Content-Type":"application/json"},method:"POST"},r=await (0,i.SH)(e,a);if(r&&200!==r.status)throw r;return!0}catch(t){throw t}},delete:async function(t){try{let e=`${i.Vi.API_URL}${i.Vi.ENDPOINTS.PRODUCT}/${t}`,a=await (0,i.SH)(e,{method:"DELETE"});if(a&&200!==a.status)throw a;return!0}catch(t){throw t}},getAll:async function(t=1,e=10,a=""){try{let r=`page=${t}&pageSize=${e}`,s=`search=${a}`,n=`${r}&${s}`,o=`${i.Vi.API_URL}/${i.Vi.ENDPOINTS.PRODUCT}?${n}`,c=await fetch(o),u=await c.json();if(200!==c.status)throw u;return u}catch(t){throw t}},getByCategorySlug:async function(t,e=1,a=10){try{let r=`slugCateg=${t}`,s=`page=${e}&pageSize=${a}`,n=`${r}&${s}`,o=`${i.Vi.API_URL}/${i.Vi.ENDPOINTS.PRODUCT}?${n}`,c=await fetch(o),u=await c.json();if(200!==c.status)throw u;return u}catch(t){throw t}},getById:async function(t){try{let e=`prodId=${t}`,a=`${i.Vi.API_URL}/${i.Vi.ENDPOINTS.PRODUCT}?${e}`,r=await fetch(a),s=await r.json();if(200!==r.status)throw s;return s.data[0]||null}catch(t){throw t}},getBySlug:async function(t){try{let e=`slug=${t}`,a=`${i.Vi.API_URL}/${i.Vi.ENDPOINTS.PRODUCT}?${e}`,r=await fetch(a),s=await r.json();if(200!==r.status)throw s;return s.data[0]||null}catch(t){throw t}},update:async function(t,e){try{let a=`${i.Vi.API_URL}${i.Vi.ENDPOINTS.PRODUCT}/${e}`,r={body:JSON.stringify(t),headers:{"Content-Type":"application/json"},method:"PUT"},s=await (0,i.SH)(a,r);if(s&&200!==s.status)throw s;return!0}catch(t){throw t}},updateImage:async function(t,e){try{if(e.size>10485760)throw Error("El tama\xf1o del archivo excede el m\xe1ximo permitido.");let a=`${i.Vi.API_IMG_URL}/gambit-img-bucket/${t}.jpg`,r=await (0,i.SH)(a,{body:e,headers:{"Content-Type":"image/jpeg"},method:"PUT"});if(r&&200!==r.status)throw r;return!0}catch(t){throw t}}},c={getAll:async function(t=1){try{let e=`page=${t}`,a=`${i.Vi.API_URL}/${i.Vi.ENDPOINTS.USERS}?${e}`,r=await (0,i.SH)(a);if(!r)throw Error("No response received");let s=await r.json();if(200!==r.status)throw s;return s}catch(t){throw t}},me:async function(){try{let t=`${i.Vi.API_URL}${i.Vi.ENDPOINTS.USER_ME}`,e=await (0,i.SH)(t);if(!e)throw Error("No response received");let a=await e.json();if(200!==e.status)throw a;return a}catch(t){throw t}}}},1513:(t,e,a)=>{"use strict";a.d(e,{o:()=>i});var r=a(997),s=a(1163),n=a(1831);function i(t){let{placeholder:e="Buscar...",className:a,queryName:i="search"}=t,o=(0,s.useRouter)(),c=o.query[i]||"",u=()=>{let t=o.query;delete t[i],o.replace({query:t})};return r.jsx(n.Input,{placeholder:e,icon:{link:!0,name:c?"close":"search",onClick:u},className:a,value:c,onChange:(t,e)=>{e.value?o.replace({query:{...o.query,[i]:e.value}}):u()}})}},5900:(t,e,a)=>{"use strict";a.d(e,{V:()=>o,H:()=>c});var r=a(997),s=a(1163),n=a(6689),i=a(339);let o=(0,n.createContext)({});function c(t){let{children:e}=t,[a,c]=(0,n.useState)({}),[u,l]=(0,n.useState)(!1),[h,d]=(0,n.useState)(!0),f=(0,s.useRouter)();(0,n.useEffect)(()=>{(async()=>{try{await y(),d(!1)}catch(t){d(!1)}})()},[]);let y=async()=>{try{let t=await i.Rq.me();c(t),l(0===t.userStatus),d(!1)}catch(t){console.error(t),d(!1)}};return h?null:r.jsx(o.Provider,{value:{isAdmin:u,login:y,logout:()=>{c({}),i.v3.logout(),f.push("/")},updateUser:(t,e)=>{c({...a,[t]:e})},user:a},children:e})}},5646:(t,e,a)=>{"use strict";a.d(e,{a:()=>n});var r=a(6689),s=a(5900);let n=()=>(0,r.useContext)(s.V)},4836:(t,e,a)=>{"use strict";a.d(e,{i:()=>I,e:()=>S});var r=a(997),s=a(1163),n=a(6689),i=a(1831),o=a(3527),c=a.n(o);let u=[{description:"Ten el control de todos tus pedidos y recibe notificaciones con el seguimiento",icon:"truck",title:"Gestiona tus pedidos"},{description:"Agente para atenderte las 24 horas del dia y los 7 dias de la semana",icon:"wechat",title:"Atenci\xf3n al cliente"}];var l=a(1664),h=a.n(l),d=a(9147),f=a.n(d),y=a(5646),w=a(7178),g=a.n(w),p=a(8102),m=a.n(p),_=a(7974),j=a.n(_),x=a(8010);let N={Account:function(){let{user:t}=(0,y.a)();return(0,r.jsxs)(h(),{href:t?"/account":"/join/login",className:f().account,children:[r.jsx(i.Icon,{name:"user"}),t&&t.userEmail?`${t.userEmail.slice(0,14)}...`:"Entrar"]})},AdminButton:function(){return(0,r.jsxs)(h(),{href:"/admin",className:g().adminButton,children:[r.jsx(i.Icon,{name:"configure"}),"Admin"]})},Basket:function(){return(0,r.jsxs)(h(),{href:"/basket",className:m().basket,children:[r.jsx(i.Icon,{name:"cart"}),r.jsx(i.Label,{color:"teal",circular:!0,children:6}),"Mi cesta"]})},CategoriesMenu:function(){let[t,e]=(0,n.useState)([]);return(0,n.useEffect)(()=>{(async()=>{try{let t=await x.J.getAll();e(t)}catch(t){console.error(t)}})()},[]),r.jsx("div",{className:j().container,children:t&&t.map(t=>r.jsx(h(),{href:`/categories/${t.categPath}`,children:t.categName},t.categId))})},Logo:function(){return r.jsx(h(),{href:"/",children:r.jsx(i.Image,{src:"/images/logo-texto.png",alt:"Gambit"})})}};function S(t){let{children:e}=t,a=(0,y.a)(),o=(0,s.useRouter)();return((0,n.useEffect)(()=>{a||o.push("/")},[o,a]),a)?(0,r.jsxs)(i.Container,{className:c().container,children:[r.jsx(N.Logo,{}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:c().left,children:u.map((t,e)=>(0,r.jsxs)("div",{children:[r.jsx(i.Icon,{name:t.icon}),(0,r.jsxs)("div",{children:[r.jsx("h3",{children:t.title}),r.jsx("span",{children:t.description})]})]},e))}),r.jsx("div",{className:c().right,children:e})]})]}):null}var E=a(8256),$=a.n(E),A=a(1513);function I(t){let{children:e}=t,{isAdmin:a}=(0,y.a)();return(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:$().border,children:(0,r.jsxs)(i.Container,{className:$().header,children:[(0,r.jsxs)("div",{className:$().left,children:[r.jsx(N.Logo,{}),r.jsx(A.o,{className:$().search,placeholder:"Busca lo que necesitas..."})]}),(0,r.jsxs)("div",{children:[a&&r.jsx(N.AdminButton,{}),r.jsx(N.Account,{}),r.jsx(N.Basket,{})]})]})}),r.jsx("div",{className:$().border,children:r.jsx(i.Container,{children:r.jsx(N.CategoriesMenu,{})})}),e]})}},5143:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>n});var r=a(997);a(8158),a(8091);var s=a(5900);function n(t){let{Component:e,pageProps:a}=t;return r.jsx(s.H,{children:r.jsx(e,{...t})})}(0,a(2351).UR)()},29:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>n});var r=a(997),s=a(6859);function n(){return(0,r.jsxs)(s.Html,{lang:"es",children:[r.jsx(s.Head,{}),(0,r.jsxs)("body",{children:[r.jsx(s.Main,{}),r.jsx(s.NextScript,{})]})]})}},2658:(t,e,a)=>{"use strict";a.d(e,{V:()=>r});let r={API_IMG_URL:"https://iwbolpi9l4.execute-api.us-east-1.amazonaws.com/Production",API_URL:"https://vfflkbriye.execute-api.us-east-1.amazonaws.com/gambit/gambit",BASKET:"basket",ENDPOINTS:{ADDRESS:"/address",CATEGORY:"/category",ORDER:"/order",ORDERS:"/orders",PRODUCT:"/product",USERS:"/users",USER_ME:"/user/me"},IMG_URL:"https://gambit-img-bucket.s3.amazonaws.com",TINY_APIKEY:"agh3xktjurawll57abh1pj6lzpdtdihaffl8zeneyx609kjt",TOKEN:"token"}},2351:(t,e,a)=>{"use strict";a.d(e,{Vi:()=>o.V,SH:()=>i,UR:()=>s});var r=a(5581);function s(){r.Amplify.configure({aws_cognito_identity_pool_id:"us-east-1:ae23c48f-8125-45e6-9a25-d6db54ad9065",aws_cognito_region:"us-east-1",aws_user_pools_id:"us-east-1_F9HiLNIFK",aws_user_pools_web_client_id:"an4laitk7o8a5slda3mr20v69"})}var n=a(339);async function i(t,e){let a=await n.v3.retrieveSession();if(a){let r={...e,headers:{...e?.headers,Authorization:a}};try{return await fetch(t,r)}catch(t){throw t}}else console.log("No hay token")}var o=a(2658)},8091:()=>{}};