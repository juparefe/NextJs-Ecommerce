(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[869],{5704:function(e,n,r){"use strict";r.d(n,{YW:function(){return p},U0:function(){return C},B2:function(){return f}});var a=r(5893),t=r(6443),i=r(1664),s=r.n(i),o=r(1163),l=r(4428),c=r(967),u=r(6310),d=r(6424),h=r.n(d),m=r(1018);function f(){let e=(0,o.useRouter)(),n=(0,t.TA)({initialValues:{email:"",password:"",repeatPassword:""},onSubmit:async n=>{try{await m.v3.register(n.email,n.password),e.push("/join/confirmation?email=".concat(n.email))}catch(e){console.error(e)}},validateOnChange:!1,validationSchema:u.Ry({email:u.Z_().email().required(),password:u.Z_().required(),repeatPassword:u.Z_().required().oneOf([u.iH("password")],"Las contrase\xf1as deben coincidir")})});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l.Z,{onSubmit:n.handleSubmit,children:[(0,a.jsx)(l.Z.Input,{name:"email",placeholder:"Correo electronico",value:n.values.email,onChange:n.handleChange,error:n.errors.email}),(0,a.jsx)(l.Z.Input,{type:"password",name:"password",placeholder:"Contrase\xf1a",value:n.values.password,onChange:n.handleChange,error:n.errors.password}),(0,a.jsx)(l.Z.Input,{type:"password",name:"repeatPassword",placeholder:"Repetir contrase\xf1a",value:n.values.repeatPassword,onChange:n.handleChange,error:n.errors.repeatPassword}),(0,a.jsx)(l.Z.Button,{type:"submit",fluid:!0,loading:n.isSubmitting,children:"Crear cuenta"})]}),(0,a.jsx)("p",{className:h().login,children:"Ya tengo una cuenta"}),(0,a.jsx)(c.Z,{as:s(),href:"/join/login",fluid:!0,basic:!0,children:"Iniciar sesi\xf3n"})]})}var x=r(7294),g=r(9914);function p(){let e=(0,o.useRouter)(),{query:n}=e,[r,i]=(0,x.useState)(!1);(0,x.useEffect)(()=>{s.setFieldValue("email",n.email)},[n]);let s=(0,t.TA)({initialValues:{code:"",email:""},onSubmit:async n=>{try{await m.v3.confirmation(n.email,n.code),e.push("/join/login")}catch(e){console.error(e)}},validateOnChange:!1,validationSchema:u.Ry({code:u.Z_().required(),email:u.Z_().email().required()})}),d=async()=>{if(s.setFieldError("email","false"),!s.values.email){s.setFieldError("email","true");return}i(!0),await m.v3.resendCode(s.values.email),i(!1)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l.Z,{onSubmit:s.handleSubmit,children:[(0,a.jsx)(l.Z.Input,{name:"email",placeholder:"Correo electronico",value:s.values.email,onChange:s.handleChange,error:s.errors.email}),(0,a.jsx)(l.Z.Input,{name:"code",placeholder:"Codigo de confirmaci\xf3n",values:s.values.code,onChange:s.handleChange,error:s.errors.code}),(0,a.jsx)(l.Z.Button,{type:"submit",fluid:!0,loading:s.isSubmitting,children:"Activar usuario"})]}),(0,a.jsx)(g.Z0,{height:50}),(0,a.jsx)(c.Z,{fluid:!0,basic:!0,onClick:d,loading:r,children:"Reenviar codigo de verificaci\xf3n"})]})}var j=r(6014),_=r.n(j),v=r(5646);function C(){let{login:e}=(0,v.a)(),n=(0,o.useRouter)(),r=(0,t.TA)({initialValues:{email:"",password:""},onSubmit:async r=>{try{await m.v3.login(r.email,r.password),await e(),n.push("/")}catch(e){console.error(e)}},validateOnChange:!1,validationSchema:u.Ry({email:u.Z_().email().required(),password:u.Z_().required()})});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l.Z,{onSubmit:r.handleSubmit,children:[(0,a.jsx)(l.Z.Input,{name:"email",placeholder:"Correo electronico",value:r.values.email,onChange:r.handleChange,error:r.errors.email}),(0,a.jsx)(l.Z.Input,{type:"password",name:"password",placeholder:"Contrase\xf1a",value:r.values.password,onChange:r.handleChange,error:r.errors.password}),(0,a.jsx)(l.Z.Button,{type:"submit",fluid:!0,loading:r.isSubmitting,children:"Iniciar sesi\xf3n"})]}),(0,a.jsx)("p",{className:_().register,children:"\xbfEres nuevo cliente?"}),(0,a.jsx)(c.Z,{as:s(),href:"/join/register",fluid:!0,basic:!0,children:"Crear cuenta"})]})}},1513:function(e,n,r){"use strict";r.d(n,{o:function(){return s}});var a=r(5893),t=r(1163),i=r(416);function s(e){let{placeholder:n="Buscar...",className:r,queryName:s="search"}=e,o=(0,t.useRouter)(),l=o.query[s]||"",c=()=>{let e=o.query;delete e[s],o.replace({query:e})};return(0,a.jsx)(i.Z,{placeholder:n,icon:{link:!0,name:l?"close":"search",onClick:c},className:r,value:l,onChange:(e,n)=>{n.value?o.replace({query:{...o.query,[s]:n.value}}):c()}})}},9914:function(e,n,r){"use strict";r.d(n,{gb:function(){return l},u_:function(){return m},xM:function(){return g},tl:function(){return C},ol:function(){return Z.o},Z0:function(){return i}});var a=r(5893),t=r(849);function i(e){let{height:n}=e;return(0,a.jsx)("div",{style:{height:n}})}var s=r(1114),o=r.n(s);function l(e){let{text:n="Cargando",top:r=0}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i,{height:r}),(0,a.jsx)(t.Z,{active:!0,inline:"centered",className:o().loading,children:n})]})}var c=r(711),u=r(7294),d=r(3625),h=r(967);let m={Basic:function(e){let{children:n,show:r,onClose:t,title:i}=e;return(0,a.jsxs)(c.Z,{open:r,onClose:t,size:"small",children:[(0,a.jsx)(c.Z.Header,{children:i}),(0,a.jsx)(c.Z.Content,{children:n})]})},Confirm:function(e){let{onConfirm:n,...r}=e,[t,i]=(0,u.useState)(!1);return(0,a.jsx)(d.Z,{className:"confirm",size:"mini",onConfirm:()=>{i(!0),n()},confirmButton:(0,a.jsx)(h.Z,{primary:!0,loading:t,children:"Ok"}),...r})}};var f=r(6417),x=r.n(f);function g(e){let{text:n="No hay resultados"}=e;return(0,a.jsx)("div",{className:x().noResult,children:(0,a.jsx)("p",{children:n})})}var p=r(1163),j=r(3068),_=r(7463),v=r.n(_);function C(e){let{currentPage:n,totalPages:r}=e,t=(0,p.useRouter)();return(0,a.jsx)("div",{className:v().container,children:(0,a.jsx)(j.Z,{defaultActivePage:n,totalPages:r,ellipsisItem:null,firstItem:null,lastItem:null,onPageChange:(e,n)=>{let{activePage:r}=n;t.replace({query:{...t.query,page:r}})}})})}var Z=r(1513)},5646:function(e,n,r){"use strict";r.d(n,{a:function(){return i}});var a=r(7294),t=r(5900);let i=()=>(0,a.useContext)(t.V)},4836:function(e,n,r){"use strict";r.d(n,{i:function(){return A},e:function(){return N}});var a=r(5893),t=r(1163),i=r(7294),s=r(5712),o=r(5150),l=r(8081),c=r.n(l);let u=[{description:"Ten el control de todos tus pedidos y recibe notificaciones con el seguimiento",icon:"truck",title:"Gestiona tus pedidos"},{description:"Agente para atenderte las 24 horas del dia y los 7 dias de la semana",icon:"wechat",title:"Atenci\xf3n al cliente"}];var d=r(1664),h=r.n(d),m=r(46),f=r.n(m),x=r(5646),g=r(7361),p=r.n(g),j=r(5142),_=r(2773),v=r.n(_),C=r(2548),Z=r.n(C),y=r(8010),b=r(7257);let w={Account:function(){let{user:e}=(0,x.a)();return(0,a.jsxs)(h(),{href:e?"/account":"/join/login",className:f().account,children:[(0,a.jsx)(o.Z,{name:"user"}),e&&e.userEmail?"".concat(e.userEmail.slice(0,14),"..."):"Entrar"]})},AdminButton:function(){return(0,a.jsxs)(h(),{href:"/admin",className:p().adminButton,children:[(0,a.jsx)(o.Z,{name:"configure"}),"Admin"]})},Basket:function(){return(0,a.jsxs)(h(),{href:"/basket",className:v().basket,children:[(0,a.jsx)(o.Z,{name:"cart"}),(0,a.jsx)(j.Z,{color:"teal",circular:!0,children:6}),"Mi cesta"]})},CategoriesMenu:function(){let[e,n]=(0,i.useState)([]);return(0,i.useEffect)(()=>{(async()=>{try{let e=await y.J.getAll();n(e)}catch(e){console.error(e)}})()},[]),(0,a.jsx)("div",{className:Z().container,children:e&&e.map(e=>(0,a.jsx)(h(),{href:"/categories/".concat(e.categPath),children:e.categName},e.categId))})},Logo:function(){return(0,a.jsx)(h(),{href:"/",children:(0,a.jsx)(b.Z,{src:"/images/logo-texto.png",alt:"Gambit"})})}};function N(e){let{children:n}=e,r=(0,x.a)(),l=(0,t.useRouter)();return((0,i.useEffect)(()=>{r||l.push("/")},[l,r]),r)?(0,a.jsxs)(s.Z,{className:c().container,children:[(0,a.jsx)(w.Logo,{}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:c().left,children:u.map((e,n)=>(0,a.jsxs)("div",{children:[(0,a.jsx)(o.Z,{name:e.icon}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{children:e.title}),(0,a.jsx)("span",{children:e.description})]})]},n))}),(0,a.jsx)("div",{className:c().right,children:n})]})]}):null}var B=r(8067),S=r.n(B),q=r(1513);function A(e){let{children:n}=e,{isAdmin:r}=(0,x.a)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:S().border,children:(0,a.jsxs)(s.Z,{className:S().header,children:[(0,a.jsxs)("div",{className:S().left,children:[(0,a.jsx)(w.Logo,{}),(0,a.jsx)(q.o,{className:S().search,placeholder:"Busca lo que necesitas..."})]}),(0,a.jsxs)("div",{children:[r&&(0,a.jsx)(w.AdminButton,{}),(0,a.jsx)(w.Account,{}),(0,a.jsx)(w.Basket,{})]})]})}),(0,a.jsx)("div",{className:S().border,children:(0,a.jsx)(s.Z,{children:(0,a.jsx)(w.CategoriesMenu,{})})}),n]})}},6014:function(e){e.exports={register:"LoginForm_register__hntq_"}},6424:function(e){e.exports={login:"RegisterForm_login__S2_iT"}},46:function(e){e.exports={account:"Account_account__q9qKT"}},7361:function(e){e.exports={adminButton:"AdminButton_adminButton__5YrkM"}},2773:function(e){e.exports={basket:"Basket_basket__8FRtH"}},2548:function(e){e.exports={container:"CategoriesMenu_container__Qq9aA"}},1114:function(e){e.exports={loading:"Loader_loading__C5H_N"}},6417:function(e){e.exports={noResult:"NoResult_noResult__8rI9y"}},7463:function(e){e.exports={container:"Pagination_container__swS01"}},8067:function(e){e.exports={border:"BasicLayout_border__aEJ_6",header:"BasicLayout_header__Ir5gC",left:"BasicLayout_left__jNp1l",search:"BasicLayout_search__AjyoK"}},8081:function(e){e.exports={container:"JoinLayout_container__U_bXI",left:"JoinLayout_left__bsy8g",right:"JoinLayout_right__PA5Xb"}}}]);